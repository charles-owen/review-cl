"use strict";(self.webpackChunkcse335=self.webpackChunkcse335||[]).push([[306,148],{44932:(e,t,n)=>{n.d(t,{m:()=>i});var s="cl_students_only",i=function(){};i.get=function(){return"yes"===window.localStorage.getItem(s)},i.set=function(e){window.localStorage.setItem(s,e?"yes":"no")}},96131:(e,t,n)=>{n.d(t,{R:()=>Ut.Z});var s=n(63255),i=n(66759),r={class:"content cl-members-editor"},o={class:"full"},a={key:0},l={key:0},u={class:"small"},c=(0,i._)("tr",null,[(0,i._)("th",{scope:"col"}),(0,i._)("th",{scope:"col"},"User"),(0,i._)("th",{scope:"col"},"Name"),(0,i._)("th",{scope:"col"},"Email"),(0,i._)("th",{scope:"col"},"Role"),(0,i._)("th",{scope:"col"},"Created")],-1),m={key:0,class:"cl-mgmt-options"},d=["src"],f=["onClick"],h=["src"],p={key:1},v={key:2},g={key:3},b=["onClick"],w=["src"],y={key:4},k=["onClick"],_={key:5},S=["onClick"],C=["href"],D={class:"small"},U={class:"small"},x={class:"center small"},$={key:1,class:"centerbox comp center"},A={key:1};var R=n(75560),T={class:"cl-bulk-upload"},Z=(0,i._)("h2",{id:"bulk"},"Bulk course membership uploading",-1),E=(0,i._)("p",null,"This option accepts files in CSV format as produced by instructor systems. ",-1),I=(0,i._)("legend",null,"Bulk Upload File",-1),M=(0,i._)("div",null,"File to upload: ",-1),z=(0,i._)("p",null,[(0,i._)("input",{type:"submit",value:"Press"}),(0,i.Uk)(" to upload the file!")],-1);var V=function(e){return(0,i.dD)("data-v-23f2b753"),e=e(),(0,i.Cn)(),e},N={id:"drops-component"},q=V((function(){return(0,i._)("p",null,"The following users are indicated as dropped from the uploaded course role. Select any you wish to flag as dropped in the system.",-1)})),O=V((function(){return(0,i._)("p",null,[(0,i.Uk)("Dropping a student does not remove them from the system, it only changes their status to "),(0,i._)("em",null,"dropped")],-1)})),L={scope:"col"},j=V((function(){return(0,i._)("th",{scope:"col"},"User",-1)})),W=V((function(){return(0,i._)("th",{scope:"col"},"Name",-1)})),H=V((function(){return(0,i._)("th",{scope:"col"},"Email",-1)})),F=V((function(){return(0,i._)("th",{scope:"col"},"Role",-1)})),Y=["onUpdate:modelValue"];const K={data:function(){return{drops:null,all:!1}},methods:{checkAll:function(e){var t=this;this.drops.forEach((function(e){e.drop=t.all}))}},mounted:function(){this.drops=this.$parent.drops}};var B=n(54571),P=n.n(B),X=n(50063),G=n.n(X),J=n(14971),Q=n.n(J),ee=n(78446),te=n.n(ee),ne=n(71984),se=n.n(ne),ie=n(63641),re=n.n(ie),oe=n(40627),ae={};ae.styleTagTransform=re(),ae.setAttributes=te(),ae.insert=Q().bind(null,"head"),ae.domAPI=G(),ae.insertStyleElement=se();P()(oe.Z,ae);oe.Z&&oe.Z.locals&&oe.Z.locals;var le=n(87619);const ue=(0,le.Z)(K,[["render",function(e,t,n,s,r,o){return(0,i.wg)(),(0,i.iD)("div",N,[q,O,(0,i._)("table",null,[(0,i._)("tr",null,[(0,i._)("th",L,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.all=t}),onChange:t[1]||(t[1]=(0,i.iM)((function(){return o.checkAll&&o.checkAll.apply(o,arguments)}),["prevent"]))},null,544),[[i.e8,e.all]])]),j,W,H,F]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.drops,(function(e){return(0,i.wg)(),(0,i.iD)("tr",null,[(0,i._)("td",null,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":function(t){return e.drop=t}},null,8,Y),[[i.e8,e.drop]])]),(0,i._)("td",null,(0,i.zw)(e.userId),1),(0,i._)("td",null,(0,i.zw)(e.name),1),(0,i._)("td",null,(0,i.zw)(e.email),1),(0,i._)("td",null,(0,i.zw)(e.roleName()),1)])})),256))])])}],["__scopeId","data-v-23f2b753"]]);Site.Vue;var ce=Site.VueHelper;const me={data:function(){return{bulkFiles:null}},methods:{bulkUpload:function(){var e=this;if(!(null===this.bulkFiles||this.bulkFiles.length<1)){var t=this.bulkFiles[0],n=new FileReader;n.onload=function(t){var n=e.$store.state.user.user.member,s={file:t.target.result,semester:n.semester,section:n.section};Site.api.post("/api/course/members/bulk",s).then((function(t){if(t.hasError())console.log(t),Site.toast(e,t);else{var n=t.getData("drops");if(null!==n&&n.attributes.length>0){var s=[];n.attributes.forEach((function(e){console.log(e);var t=new Site.User(e);t.drop=!1,s.push(t)})),new R.Z({title:"Dropped Course Members",content:'<div id="drops"></div>',addClass:"cl-bulk-upload-dlg",buttons:[{contents:"Drop",focus:!0,click:function(t){t.close();var n=[];s.forEach((function(e){e.drop&&n.push(e.member.id)})),n.length>0?Site.api.post("/api/course/members/drops",{drops:n}).then((function(t){t.hasError()?(console.log(t),Site.toast(e,t)):window.history.go()})).catch((function(t){console.log(t),Site.toast(e,t)})):window.history.go()}},{contents:"Cancel",focus:!0,click:function(e){e.close()}}]});var i=ce.createApp({data:function(){return{drops:s}},template:'\n                      <drops :drops="drops"></drops>',components:{drops:ue}});i.config.globalProperties.$site=e.$site,i.mount("#drops")}else window.history.go()}})).catch((function(t){console.log(t),Site.toast(e,t)}))},n.onerror=function(e){Site.toast(this,"Error reading file")},n.onabort=function(e){Site.toast(this,"File read aborted")},n.readAsText(t)}}}};var de=n(58510),fe={};fe.styleTagTransform=re(),fe.setAttributes=te(),fe.insert=Q().bind(null,"head"),fe.domAPI=G(),fe.insertStyleElement=se();P()(de.Z,fe);de.Z&&de.Z.locals&&de.Z.locals;const he=(0,le.Z)(me,[["render",function(e,t,n,s,r,o){return(0,i.wg)(),(0,i.iD)("div",T,[Z,E,(0,i._)("form",{class:"full",onSubmit:t[1]||(t[1]=(0,i.iM)((function(e){return o.bulkUpload()}),["prevent"])),method:"post",enctype:"multipart/form-data"},[(0,i._)("fieldset",null,[I,(0,i._)("div",null,[M,(0,i._)("div",null,[(0,i._)("p",null,[(0,i._)("input",{name:"bulkfile",type:"file",onChange:t[0]||(t[0]=function(t){return e.bulkFiles=t.target.files})},null,32)]),z])])])],32)])}]]);function pe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ve(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,i=function(){};return{s:i,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw r}}}}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var ge=Site.FetcherVue,be=Site.Vuex.mapState;const we={extends:Site.ConsoleComponentBase,props:["management"],data:function(){return{toUser:function(e){return this.root+"/cl/console/management/course/member/"+e.member.id},stats:""}},methods:{fetchMore:function(){this.$store.dispatch("members/more")},deleteUser:function(e){var t=this;new R.Z.MessageBox("Are you sure?","Are you sure you want to delete "+e.name,R.Z.MessageBox.OKCANCEL,(function(){t.$store.dispatch("members/delete",{id:e.member.id})}))},presentUser:function(e){var t='<div class="cl-dialog">\n<div class="tabular">\n<p><span class="label">User ID: </span><span>'.concat(e.userId,'</span></p>\n<p><span class="label">Name: </span><span>').concat(e.name,'</span></p>\n<p><span class="label">Email: </span><span>').concat(e.email,'</span></p>\n<p><span class="label">Role: </span><span>').concat(e.userRoleName(),"</span></p>\n</div>\n</div>");new R.Z({content:t})},computeStats:function(){var e,t=[],n=pe(this.users);try{for(n.s();!(e=n.n()).done;){var s=e.value.role();void 0===t[s]?t[s]=1:t[s]++}}catch(e){n.e(e)}finally{n.f()}this.stats=this.users.length+" members";var i=this.$store.state.user.user.getRoles();for(var r in t){var o=i[r],a=void 0!==o.short?o.short:o.name;this.stats+=" / "+t[r]+" "+a}}},computed:be({users:function(e){return e.members.users},fetcher:function(e){return e.members.fetcher}}),watch:{users:{handler:function(e,t){this.computeStats()},immediate:!0,deep:!0}},components:{"bulk-upload":he,fetcher:ge},mounted:function(){var e=this;this.management?this.addComponent=this.$root.console.components.addNav2Link(this,"Add Member",5,(function(){e.$router.push(e.$site.root+"/cl/console/management/course/member/new")})):this.addComponent=null;var t=this.$store.state.user.user.member,n={semester:t.semester,section:t.section};this.$store.commit("members/query",n),this.$root.setTitle(": ".concat(t.semester,"/").concat(t.section," Members")),this.management&&this.$store.commit("users/reset"),this.$store.dispatch("members/fetch")},beforeUnmount:function(){this.addComponent&&this.$root.console.components.removeNav2(this,this.addComponent)}},ye=(0,le.Z)(we,[["render",function(e,t,n,s,R,T){var Z=(0,i.up)("router-link"),E=(0,i.up)("fetcher"),I=(0,i.up)("bulk-upload");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",o,[e.fetcher.fetched?((0,i.wg)(),(0,i.iD)("div",a,[e.users.length>0?((0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("table",u,[c,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.users,(function(t){return(0,i.wg)(),(0,i.iD)("tr",null,[n.management?((0,i.wg)(),(0,i.iD)("td",m,[(0,i.Wm)(Z,{to:e.toUser(t)},{default:(0,i.w5)((function(){return[(0,i._)("img",{src:e.root+"/vendor/cl/site/img/pencil16.png",alt:"Edit",title:"Edit"},null,8,d)]})),_:2},1032,["to"]),(0,i.Uk)("Â "),(0,i._)("a",{onClick:(0,i.iM)((function(e){return T.deleteUser(t)}),["prevent"])},[(0,i._)("img",{src:e.root+"/vendor/cl/site/img/x.png",alt:"Delete",title:"Delete"},null,8,h)],8,f)])):(0,i.kq)("v-if",!0),n.management?((0,i.wg)(),(0,i.iD)("td",p,[(0,i.Wm)(Z,{to:e.toUser(t)},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,i.zw)(t.userId),1)]})),_:2},1032,["to"])])):(0,i.kq)("v-if",!0),n.management?((0,i.wg)(),(0,i.iD)("td",v,[(0,i.Wm)(Z,{to:e.toUser(t)},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,i.zw)(t.name),1)]})),_:2},1032,["to"])])):(0,i.kq)("v-if",!0),n.management?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("td",g,[(0,i._)("a",{onClick:(0,i.iM)((function(e){return T.presentUser(t)}),["prevent"]),href:"javascript:;"},[(0,i._)("img",{src:e.root+"/vendor/cl/site/img/info16.png",alt:"View",title:"View"},null,8,w)],8,b)])),n.management?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("td",y,[(0,i._)("a",{onClick:(0,i.iM)((function(e){return T.presentUser(t)}),["prevent"]),href:"javascript:;"},(0,i.zw)(t.userId),9,k)])),n.management?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("td",_,[(0,i._)("a",{onClick:(0,i.iM)((function(e){return T.presentUser(t)}),["prevent"]),href:"javascript:;"},(0,i.zw)(t.name),9,S)])),(0,i._)("td",null,[null!==t.email?((0,i.wg)(),(0,i.iD)("a",{key:0,href:"mailto:"+t.email},(0,i.zw)(t.email),9,C)):(0,i.kq)("v-if",!0)]),(0,i._)("td",D,(0,i.zw)(t.roleName(!0)),1),(0,i._)("td",U,(0,i.zw)(e.timeRelativeUNIX(t.member.created,null,"M-DD-YYYY")),1)])})),256))]),(0,i._)("p",x,[(0,i._)("em",null,(0,i.zw)(e.stats),1)])])):((0,i.wg)(),(0,i.iD)("p",$," There are currently no members enrolled in this section."))])):(0,i.kq)("v-if",!0),(0,i.Wm)(E,{fetcher:e.fetcher},null,8,["fetcher"]),e.fetcher.fetched?((0,i.wg)(),(0,i.iD)("div",A,[n.management?((0,i.wg)(),(0,i.j4)(I,{key:0})):(0,i.kq)("v-if",!0)])):(0,i.kq)("v-if",!0)])])}]]);var ke={class:"cl-member-editor content"},_e={class:"full"},Se=(0,i._)("input",{type:"hidden",name:"new",id:"new",value:""},null,-1),Ce=(0,i._)("br",null,null,-1),De=["disabled"],Ue={class:"form_text"},xe=(0,i._)("span",{class:"small"},"(last, first)",-1),$e=(0,i._)("br",null,null,-1),Ae=["disabled"],Re={class:"form_text"},Te=(0,i._)("br",null,null,-1),Ze=["disabled"],Ee={class:"cl-radio-set"},Ie=(0,i._)("div",{class:"label"},[(0,i._)("em",null,"Role:")],-1),Me={class:"options"},ze=["value"],Ve={class:"center"},Ne=(0,i._)("button",null,"Submit",-1),qe={key:0,class:"centerbox primary"};const Oe={props:["user"],data:function(){return{link:""}},watch:{user:function(e,t){var n=this.user,s=this.link;null!==n&&void 0!==n.prev?this.$root.console.components.nav2left={template:'\n            <router-link title="Previous Member" :to="link + user.prev.member.id"><img :src="icon"\n                                                                                       alt="Previous Member">\n            </router-link>',data:function(){return{icon:this.$site.root+"/cl/img/previcon.png",user:n,link:s}}}:this.$root.console.components.nav2left=null,null!==n&&void 0!==n.next?this.$root.console.components.nav2right={template:'\n            <router-link title="Next Member" :to="link + user.next.member.id"><img :src="icon" alt="Next Member">\n            </router-link>',data:function(){return{icon:this.$site.root+"/cl/img/nexticon.png",user:n,link:s}}}:this.$root.console.components.nav2right=null}},mounted:function(){var e=this.$route.path.match(/(^.*)\/([0-9]+)$/);null!==e&&(this.link=e[1]+"/")},beforeUnmount:function(){this.$root.console.components.nav2left=null,this.$root.console.components.nav2right=null}},Le=(0,le.Z)(Oe,[["render",function(e,t,n,s,r,o){return(0,i.wg)(),(0,i.iD)("div")}]]);var je=Site.FetcherVue;const We={extends:Site.ConsoleComponentBase,props:["id"],data:function(){return{legend:"new"===this.id?"New Member":"Edit Member",roles:this.visibleRoles,edituser:null,userId:"",name:"",email:"",role:"T",timer:null,seq:1,fetched:!1}},watch:{userId:function(e,t){var n=this;null!==this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((function(){n.fetch(e)}),300)},$route:function(e,t){this.take()}},computed:Site.Vuex.mapState({fetcher:function(e){return e.members.fetcher}}),components:{fetcher:je,prevNext:Le},beforeCreate:function(){var e=(new s.N).getRoles();for(var t in this.visibleRoles={},e)!0!==e[t].skip&&(this.visibleRoles[t]=e[t])},mounted:function(){this.take()},methods:{take:function(){var e=this;if("new"===this.id)this.$root.setTitle(": Add Course Member"),this.$nextTick((function(){e.$refs.userid.select()})),this.edituser=null;else{this.$root.setTitle(": Course Member");var t=this.$store.state.user.user.member,n={id:this.id,semester:t.semester,section:t.section};this.$store.dispatch("members/get",n).then((function(t){e.edituser=t,e.userId=t.userId,e.name=null!==t.name?t.name:"",e.email=null!==t.email?t.email:"",e.role=t.role(),e.fetched=!0,e.$nextTick((function(){e.$refs.userid.select()}))})).catch((function(t){e.$site.toast(e,t),setTimeout((function(){e.$router.push({name:"members"})}),3e3)}))}},fetch:function(e){var t=this;"new"===this.id&&(""!==(e=e.trim())?(this.seq++,this.$site.api.get("/api/users",{userId:e,seq:this.seq}).then((function(e){if(e.hasError())t.$site.toast(t,e);else{if(+e.getData("seq").id!==t.seq)return;var n=e.getData("users");if(null!==n)if(n.attributes.length<1)t.fetched=!1;else{t.fetched=!0;var s=n.attributes[0];t.name=null!==s.name?s.name:"",t.email=null!==s.email?s.email:""}}})).catch((function(e){console.log(e),t.$site.toast(t,e)}))):this.fetched=!1)},submit:function(){var e=this,t=this.$store.state.user.user.member,n={userId:this.userId,name:this.name,email:this.email,role:this.role,semester:t.semester,section:t.section};"new"!==this.id&&(n.id=this.id);var s="new"===this.id?"members/new":"members/update";this.$store.dispatch(s,n).then((function(){e.$router.push({name:"members"})})).catch((function(t){console.log(t),e.$site.toast(e,t)}))},cancel:function(){this.$router.push({name:"members"})}}},He=(0,le.Z)(We,[["render",function(e,t,n,s,r,o){var a=(0,i.up)("prev-next"),l=(0,i.up)("fetcher"),u=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",ke,[(0,i._)("div",_e,[(0,i.Wm)(a,{user:e.edituser},null,8,["user"]),(0,i.Wm)(l,{fetcher:e.fetcher},null,8,["fetcher"]),(0,i._)("div",null,[(0,i._)("form",{class:"cl-common",onSubmit:t[5]||(t[5]=(0,i.iM)((function(){return o.submit&&o.submit.apply(o,arguments)}),["prevent"]))},[Se,(0,i._)("fieldset",null,[(0,i._)("legend",null,(0,i.zw)(e.legend),1),(0,i._)("p",null,[(0,i._)("label",null,[(0,i.Uk)("User ID"),Ce,(0,i.wy)((0,i._)("input",{disabled:"new"!==n.id,ref:"userid",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.userId=t}),class:"short",size:"20",maxlength:"30"},null,8,De),[[i.nr,e.userId]])])]),(0,i._)("p",null,[(0,i._)("label",Ue,[(0,i.Uk)("Name "),xe,$e,(0,i.wy)((0,i._)("input",{disabled:e.fetched,type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.name=t}),maxlength:"150"},null,8,Ae),[[i.nr,e.name]])])]),(0,i._)("p",null,[(0,i._)("label",Re,[(0,i.Uk)("Email"),Te,(0,i.wy)((0,i._)("input",{disabled:e.fetched,ref:"email",type:"email","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.email=t}),maxlength:"254"},null,8,Ze),[[i.nr,e.email]])])]),(0,i._)("div",Ee,[Ie,(0,i._)("div",Me,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.roles,(function(n,s){return(0,i.wg)(),(0,i.iD)("label",null,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.role=t}),name:"role",type:"radio",value:s},null,8,ze),[[i.G2,e.role]]),(0,i.Uk)(" "+(0,i.zw)(n.name),1)])})),256))])]),(0,i._)("p",Ve,[Ne,(0,i.Uk)("Â  "),(0,i._)("button",{onClick:t[4]||(t[4]=(0,i.iM)((function(){return o.cancel&&o.cancel.apply(o,arguments)}),["prevent"]))},"Cancel")])])],32),null!==e.edituser&&"new"!==n.id?((0,i.wg)(),(0,i.iD)("p",qe,[(0,i.Uk)("User fields are not editable in this form. To go the "),(0,i.Wm)(u,{to:e.root+"/cl/console/management/user/"+e.edituser.id},{default:(0,i.w5)((function(){return[(0,i.Uk)("user editor page for "+(0,i.zw)(e.name),1)]})),_:1},8,["to"]),(0,i.Uk)(" to edit those fields.")])):(0,i.kq)("v-if",!0)])])])}]]);var Fe={key:0,class:"content"};var Ye={key:0,class:"cl-hot"},Ke=["innerHTML"],Be={key:1},Pe=["innerHTML"],Xe={ref:"editor"},Ge=(0,i._)("button",{type:"submit"},"Submit",-1);const Je={props:["item","hot"],mounted:function(){var e=this,t=this.$refs.editor;this.editor=new this.$site.Editor(t,{value:this.item.value,tab:!0,autoIndent:!0}),this.editor.textarea.addEventListener("keydown",(function(){e.changed()}))},methods:{changed:function(){var e=this;null!==this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((function(){e.timer=null,e.item.value=e.$site.Sanitize.sanitize(e.editor.textarea.value)}),100)},submit:function(){var e=this;this.$site.api.post("/api/course/home/"+this.item.tag,{value:this.item.value}).then((function(t){t.hasError()?e.$site.toast(e,t):e.$site.toast(e,"Content successfully saved")})).catch((function(t){e.$site.toast(e,t)}))}}},Qe=(0,le.Z)(Je,[["render",function(e,t,n,s,r,o){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("h2",null,(0,i.zw)(n.item.name),1),(0,i._)("form",{method:"post",onSubmit:t[0]||(t[0]=(0,i.iM)((function(e){return o.submit()}),["prevent"]))},["true"===n.hot?((0,i.wg)(),(0,i.iD)("div",Ye,[(0,i._)("div",{innerHTML:n.item.value},null,8,Ke)])):((0,i.wg)(),(0,i.iD)("div",Be,[(0,i._)("div",{innerHTML:n.item.value},null,8,Pe)])),(0,i._)("div",Xe,null,512),Ge],32)])}]]);const et={extends:Site.ConsoleComponentBase,data:function(){return{active:!1,hot:{name:"Hot",tag:"hot",value:""}}},components:{courseHomeItemEditor:Qe},created:function(){this.$root.setTitle(": Course Home Content");var e=this.user.member;this.section=this.$store.getters["course/section"](e.semester,e.section)},mounted:function(){var e=this;Site.api.get("/api/course/home",{}).then((function(t){if(t.hasError())Site.toast(e,t);else{var n=t.getData("course-home");e.set(n)}})).catch((function(t){console.log(t),Site.toast(e,t)}))},methods:{set:function(e){this.active=!0,this.hot.value=e.attributes.hot}}},tt=(0,le.Z)(et,[["render",function(e,t,n,s,r,o){var a=(0,i.up)("course-home-item-editor");return e.active?((0,i.wg)(),(0,i.iD)("div",Fe,[(0,i.Wm)(a,{item:e.hot,hot:"true"},null,8,["item"])])):(0,i.kq)("v-if",!0)}]]);var nt={class:"cl-section-component"},st={key:0},it=function(e){return(0,i.dD)("data-v-58756191"),e=e(),(0,i.Cn)(),e}((function(){return(0,i._)("span",{class:"extra"},null,-1)}));var rt={key:0};const ot={data:function(){var e=this;return{course:this.$store.state.course.course,selected:"FS18/730",changeSection:function(){var t=e.selected.split("/"),n={semester:t[0],section:t[1]};Site.api.post("/api/course/members/sectionselect",n).then((function(t){if(t.hasError())Site.toast(e,t);else{var n=t.getData("user");e.$store.commit("user/set",n.attributes),e.$store.commit("members/reset"),window.history.go()}})).catch((function(t){Site.toast(e,t)}))}}},mounted:function(){var e=this.$store.state.user.user.member;this.selected=e.semester+"/"+e.section}};var at=n(70453),lt={};lt.styleTagTransform=re(),lt.setAttributes=te(),lt.insert=Q().bind(null,"head"),lt.domAPI=G(),lt.insertStyleElement=se();P()(at.Z,lt);at.Z&&at.Z.locals&&at.Z.locals;const ut={props:["short"],data:function(){return{course:this.$store.state.course.course}},components:{"section-select":(0,le.Z)(ot,[["render",function(e,t,n,s,r,o){return(0,i.wg)(),(0,i.iD)("span",null,[1===e.course.sections.length?((0,i.wg)(),(0,i.iD)("span",rt,(0,i.zw)(e.selected),1)):(0,i.kq)("v-if",!0),e.course.sections.length>1?(0,i.wy)(((0,i.wg)(),(0,i.iD)("select",{key:1,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selected=t}),onChange:t[1]||(t[1]=function(){return e.changeSection&&e.changeSection.apply(e,arguments)})},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.course.sections,(function(e){return(0,i.wg)(),(0,i.iD)("option",null,(0,i.zw)(e.semester)+"/"+(0,i.zw)(e.id),1)})),256))],544)),[[i.bM,e.selected]]):(0,i.kq)("v-if",!0)])}],["__scopeId","data-v-2e27ec9c"]])}};var ct=n(53090),mt={};mt.styleTagTransform=re(),mt.setAttributes=te(),mt.insert=Q().bind(null,"head"),mt.domAPI=G(),mt.insertStyleElement=se();P()(ct.Z,mt);ct.Z&&ct.Z.locals&&ct.Z.locals;const dt=(0,le.Z)(ut,[["render",function(e,t,n,s,r,o){var a=(0,i.up)("section-select");return(0,i.wg)(),(0,i.iD)("div",nt,[n.short?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("span",st,(0,i.zw)(e.course.name)+" "+(0,i.zw)(e.course.desc),1)),(0,i.Wm)(a),it])}],["__scopeId","data-v-58756191"]]);var ft={class:"content cl-assignments"},ht={class:"full"},pt={class:"small"},vt={key:0};const gt={extends:Site.ConsoleComponentBase,data:function(){return{section:null,assignmentLinks:this.$root.console.course.assignmentLinks}},computed:{},created:function(){this.$root.setTitle(": Assignments");var e=this.user.member;this.section=this.$store.getters["course/section"](e.semester,e.section)},methods:{assignmentLink:function(e,t){return this.$site.root+"/cl/console"+t.replace(":assigntag",e.tag)},links:function(e){return this.assignmentLinks.filter((function(t){return void 0!==e[t.property]&&!1!==e[t.property]}))}}},bt=(0,le.Z)(gt,[["render",function(e,t,n,s,r,o){var a=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",ft,[(0,i._)("div",ht,[(0,i._)("p",null,(0,i.zw)(e.section.name),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.section.assignments.categories,(function(t){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("h2",null,(0,i.zw)(t.name),1),(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.assignments,(function(t){return(0,i.wg)(),(0,i.iD)("li",{key:t.tag},[(0,i.Uk)((0,i.zw)(t.name)+" ",1),(0,i._)("span",pt,[(0,i._)("span",null,[(0,i.Wm)(a,{to:e.root+"/cl/console/course/dates/"+t.tag},{default:(0,i.w5)((function(){return[(0,i.Uk)("dates")]})),_:2},1032,["to"]),(0,i.Uk)("Â  ")]),(0,i._)("span",null,[(0,i.Wm)(a,{to:e.root+"/cl/console/course/extensions/"+t.tag},{default:(0,i.w5)((function(){return[(0,i.Uk)("extensions")]})),_:2},1032,["to"]),(0,i.Uk)("Â  ")]),void 0!==t.submissions?((0,i.wg)(),(0,i.iD)("span",vt,[(0,i.Wm)(a,{to:e.root+"/cl/console/course/submissions/"+t.tag},{default:(0,i.w5)((function(){return[(0,i.Uk)("submissions")]})),_:2},1032,["to"]),(0,i.Uk)("Â  ")])):(0,i.kq)("v-if",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.links(t),(function(e){return(0,i.wg)(),(0,i.iD)("span",null,[(0,i.Wm)(a,{to:o.assignmentLink(t,e.route)},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,i.zw)(e.name),1)]})),_:2},1032,["to"]),(0,i.Uk)("Â  ")])})),256))])])})),128))])])})),256))])])}]]);var wt={class:"content cl-extensions"},yt={class:"full"},kt={key:0,class:"small"},_t=(0,i._)("tr",null,[(0,i._)("th",null,"User"),(0,i._)("th",null,"Name"),(0,i._)("th",null,"Role"),(0,i._)("th",null,"Extension")],-1),St=(0,i._)("a",{"data-toggle":"",title:"Toggle Calendar"},[(0,i._)("span",{class:"icons-cl icons-cl-calendar"})],-1),Ct={"data-clear":""},Dt=["src"];var Ut=n(3326),xt=n(88121);n(18516);const $t={extends:Site.ConsoleComponentBase,props:["assigntag"],data:function(){return{assignment:null,date:null,extensions:null,test:null,fpConfig:{enableTime:!0,dateFormat:"m-d-Y h:iK",defaultHour:23,defaultMinute:55,wrap:!0}}},components:{membersfetcher:Ut.Z,flatPickr:xt.Z},mounted:function(){var e=this,t=this.$store.state.user.user.member;this.section=this.$store.getters["course/section"](t.semester,t.section),this.assignment=this.section.getAssignment(this.assigntag),this.setTitle(": "+this.assignment.shortname+" Extensions");var n={semester:t.semester,section:t.section};Site.api.get("/api/course/members/meta/get/extensions/"+this.assigntag,n).then((function(t){if(t.hasError())Site.toast(e,t);else{var n=t.getData("member-meta");if(null!==n)for(var s in e.extensions=[],n.attributes){var i=n.attributes[s];e.extensions[+s]=null==i?"":1e3*i}}})).catch((function(t){console.log(t),Site.toast(e,t)}))},methods:{change:function(e,t){var n=this,s=e[0],i={value:""!==s?new Date(s).getTime()/1e3:null};Site.api.post("/api/course/members/meta/set/".concat(t.member.id,"/extensions/").concat(this.assigntag),i).then((function(e){e.hasError()&&Site.toast(n,e)})).catch((function(e){console.log(e),Site.toast(n,e)}))},clear:function(e){Site.Vue.set(this.extensions,+e.member.id,"")}}};var At=n(51819),Rt={};Rt.styleTagTransform=re(),Rt.setAttributes=te(),Rt.insert=Q().bind(null,"head"),Rt.domAPI=G(),Rt.insertStyleElement=se();P()(At.Z,Rt);At.Z&&At.Z.locals&&At.Z.locals;const Tt=(0,le.Z)($t,[["render",function(e,t,n,s,r,o){var a=(0,i.up)("flat-pickr"),l=(0,i.up)("membersfetcher");return(0,i.wg)(),(0,i.iD)("div",wt,[(0,i._)("div",yt,[(0,i.Wm)(l,{fetching:null===e.extensions},{default:(0,i.w5)((function(t){return[null!==e.extensions?((0,i.wg)(),(0,i.iD)("table",kt,[_t,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.users,(function(t){return(0,i.wg)(),(0,i.iD)("tr",null,[(0,i._)("td",null,(0,i.zw)(t.userId),1),(0,i._)("td",null,(0,i.zw)(t.name),1),(0,i._)("td",null,(0,i.zw)(t.roleName()),1),(0,i._)("td",null,[(0,i._)("div",null,[(0,i.Wm)(a,{modelValue:e.extensions[+t.member.id],"onUpdate:modelValue":function(n){return e.extensions[+t.member.id]=n},config:e.fpConfig,onOnChange:function(e){return o.change(e,t)},"data-input":""},null,8,["modelValue","onUpdate:modelValue","config","onOnChange"]),St,(0,i.Uk)(),(0,i._)("a",Ct,[(0,i._)("img",{src:e.root+"/cl/img/x.png",alt:"delete",title:"Delete"},null,8,Dt)])])])])})),256))])):(0,i.kq)("v-if",!0)]})),_:1},8,["fetching"])])])}]]);var Zt={class:"content cl-assignment-dates"},Et={class:"full"},It={key:0,class:"cl-form-common"},Mt={class:"cl-form-border cl-center"},zt=(0,i._)("div",{class:"cl-form-legend"},"Assignment Dates",-1),Vt={style:{display:"inline-block"}},Nt={class:"cl-no-expand"},qt=(0,i._)("br",null,null,-1),Ot=(0,i._)("a",{"data-toggle":"",title:"Toggle Calendar"},[(0,i._)("span",{class:"icons-cl icons-cl-calendar"})],-1),Lt={"data-clear":""},jt=["src"],Wt={class:"cl-no-expand"},Ht=(0,i._)("br",null,null,-1),Ft=(0,i._)("a",{"data-toggle":"",title:"Toggle Calendar"},[(0,i._)("span",{class:"icons-cl icons-cl-calendar"})],-1),Yt={"data-clear":""},Kt=["src"],Bt={key:0},Pt={key:0},Xt={class:"cl-no-expand"},Gt=(0,i._)("br",null,null,-1),Jt=(0,i._)("a",{"data-toggle":"",title:"Toggle Calendar"},[(0,i._)("span",{class:"icons-cl icons-cl-calendar"})],-1),Qt={"data-clear":""},en=["src"],tn={class:"cl-center"},nn=(0,i._)("p",{class:"centerbox primary"},"Dynamic assignment date revisions override those in the assignments specification file. Once set, the revisions replace the results from the assignments specification file. Clear removes the dynamic assignments as specified on this page and restores the assignments specified in the assignments specification file.",-1);const sn={extends:Site.ConsoleComponentBase,props:["assigntag"],data:function(){return{assignment:null,date:null,release:null,released:!1,due:null,revised:!1,hasReviews:!0,review:null,fetched:!1,fpConfig:{enableTime:!0,dateFormat:"m/d/Y h:iK",defaultHour:23,defaultMinute:55,wrap:!0}}},components:{flatPickr:xt.Z},mounted:function(){var e=this.$store.state.user.user.member;this.section=this.$store.getters["course/section"](e.semester,e.section),this.assignment=this.section.getAssignment(this.assigntag),this.setTitle(": "+this.assignment.shortname+" Dates"),this.load()},methods:{set:function(e){null!==e&&(this.fetched=!0,"open"===e.attributes.release?(this.release="",this.released=!0):"none"===e.attributes.release?(this.release="",this.released=!1):(this.release=new Date(1e3*e.attributes.release).toISOString(),this.released=!0),"none"!==e.attributes.due?this.due=new Date(1e3*e.attributes.due).toISOString():this.due="",this.revised="yes"===e.attributes.revised,void 0===e.attributes.review?this.hasReviews=!1:"none"===e.attributes.review?(this.hasReviews=!0,this.review=""):(this.hasReviews=!0,this.review=new Date(1e3*e.attributes.review).toISOString()))},changeRelease:function(e){e.length>0&&""!==e[0]&&(this.released=!0)},changeReleased:function(e){this.released||(this.release="")},send:function(){var e=this,t={revised:this.revised?"yes":"no"};this.released?""===this.release?t.release="open":t.release=this.release:t.release="none",""===this.due?t.due="none":t.due=this.due,this.hasReviews&&(""===this.review?t.review="none":t.review=this.review),Site.api.post("/api/course/dates/".concat(this.assigntag),t).then((function(t){if(t.hasError())Site.toast(e,t);else{Site.toast(e,"Assignment date revisions set");var n=t.getData("assignment-dates");e.set(n)}})).catch((function(t){console.log(t),Site.toast(e,t)}))},clear:function(){var e=this;this.fetched=!1,Site.api.post("/api/course/dates/".concat(this.assigntag,"/clear"),{}).then((function(t){t.hasError()?Site.toast(e,t):(Site.toast(e,"Assignment date revisions cleared"),e.load())})).catch((function(t){console.log(t),Site.toast(e,t)}))},load:function(){var e=this;Site.api.get("/api/course/dates/"+this.assigntag,{}).then((function(t){if(t.hasError())Site.toast(e,t);else{var n=t.getData("assignment-dates");e.set(n)}})).catch((function(t){console.log(t),Site.toast(e,t)}))}}},rn=(0,le.Z)(sn,[["render",function(e,t,n,s,r,o){var a=(0,i.up)("flat-pickr");return(0,i.wg)(),(0,i.iD)("div",Zt,[(0,i._)("div",Et,[e.fetched?((0,i.wg)(),(0,i.iD)("div",It,[(0,i._)("div",Mt,[zt,(0,i._)("div",Vt,[(0,i._)("p",null,[(0,i._)("span",Nt,[(0,i._)("label",null,[(0,i.Uk)("Release"),qt,(0,i.Wm)(a,{modelValue:e.release,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.release=t}),config:e.fpConfig,onOnChange:t[1]||(t[1]=function(e){return o.changeRelease(e)}),"data-input":""},null,8,["modelValue","config"]),Ot,(0,i.Uk)(),(0,i._)("a",Lt,[(0,i._)("img",{src:e.root+"/cl/img/x.png",alt:"delete",title:"Delete"},null,8,jt)])]),(0,i.Uk)("Â Â "),(0,i._)("label",null,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.released=t}),onChange:t[3]||(t[3]=function(e){return o.changeReleased(e)}),type:"checkbox"},null,544),[[i.e8,e.released]]),(0,i.Uk)(" Released")])])]),(0,i._)("p",null,[(0,i._)("span",Wt,[(0,i._)("label",null,[(0,i.Uk)("Due"),Ht,(0,i.Wm)(a,{modelValue:e.due,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.due=t}),config:e.fpConfig,"data-input":""},null,8,["modelValue","config"]),Ft,(0,i.Uk)(),(0,i._)("a",Yt,[(0,i._)("img",{src:e.root+"/cl/img/x.png",alt:"delete",title:"Delete"},null,8,Kt)])]),(0,i.Uk)("Â Â "),""!==e.due?((0,i.wg)(),(0,i.iD)("label",Bt,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.revised=t}),type:"checkbox"},null,512),[[i.e8,e.revised]]),(0,i.Uk)(" Revised")])):(0,i.kq)("v-if",!0)])]),e.hasReviews?((0,i.wg)(),(0,i.iD)("p",Pt,[(0,i._)("span",Xt,[(0,i._)("label",null,[(0,i.Uk)("Reviews"),Gt,(0,i.Wm)(a,{modelValue:e.review,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.review=t}),config:e.fpConfig,"data-input":""},null,8,["modelValue","config"]),Jt,(0,i.Uk)(),(0,i._)("a",Qt,[(0,i._)("img",{src:e.root+"/cl/img/x.png",alt:"delete",title:"Delete"},null,8,en)])])])])):(0,i.kq)("v-if",!0),(0,i._)("p",tn,[(0,i._)("button",{onClick:t[7]||(t[7]=function(){return o.send&&o.send.apply(o,arguments)})},"Set"),(0,i.Uk)(" Â  "),(0,i._)("button",{onClick:t[8]||(t[8]=function(){return o.clear&&o.clear.apply(o,arguments)})},"Clear")])])])])):(0,i.kq)("v-if",!0),nn])])}]]);var on={class:"content"},an={class:"full"},ln=(0,i._)("p",{class:"center"},"Click on a user to view submissions for that user.",-1),un={class:"small"},cn=(0,i._)("tr",null,[(0,i._)("th",null,"User"),(0,i._)("th",null,"Name"),(0,i._)("th",null,"Role")],-1);var mn={class:"cl-submissions-bulk"},dn={key:0,class:"center"},fn=["onClick"],hn=["onClick"],pn=["src"],vn={key:1},gn=["onUpdate:modelValue"],bn=["onUpdate:modelValue"],wn={key:2},yn=(0,i._)("br",null,null,-1);function kn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _n(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,i=function(){};return{s:i,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw r}}}}function _n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}const Sn={extends:Site.ConsoleComponentBase,props:["assignment"],data:function(){return{links:[],from:"",to:""}},watch:{assignment:function(){this.take()}},computed:{},mounted:function(){this.take()},methods:{take:function(){if(this.links=[],null!==this.assignment&&void 0!==this.assignment.submissions){var e,t=kn(this.assignment.submissions);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(!0===n.bulk){var i={text:"Bulk download of "+n.name,url:"/cl/course/submissions/"+this.assignment.tag+"/"+n.tag,from:"",to:"",range:!1,atLeast:s.N.STAFF};this.links.push(i)}if(void 0!==n.links){var r,o=kn(n.links);try{for(o.s();!(r=o.n()).done;){var a=r.value;this.links.push(a)}}catch(e){o.e(e)}finally{o.f()}}}}catch(e){t.e(e)}finally{t.f()}}},click:function(e){var t=this.root+e.url;void 0===e.from||void 0===e.to||""===e.from.trim()&&""===e.to.trim()||(t+="?fm="+encodeURIComponent(e.from.trim())+"&to="+encodeURIComponent(e.to.trim())),window.location.href=t}}};var Cn=n(80874),Dn={};Dn.styleTagTransform=re(),Dn.setAttributes=te(),Dn.insert=Q().bind(null,"head"),Dn.domAPI=G(),Dn.insertStyleElement=se();P()(Cn.Z,Dn);Cn.Z&&Cn.Z.locals&&Cn.Z.locals;const Un=(0,le.Z)(Sn,[["render",function(e,t,n,s,r,o){return(0,i.wg)(),(0,i.iD)("div",mn,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.links,(function(t){return(0,i.wg)(),(0,i.iD)(i.HY,null,[e.user.atLeast(t.atLeast)?((0,i.wg)(),(0,i.iD)("p",dn,[(0,i._)("a",{onClick:(0,i.iM)((function(e){return o.click(t)}),["prevent"])},(0,i.zw)(t.text),9,fn),void 0===t.from||t.range?(0,i.kq)("v-if",!0):((0,i.wg)(),(0,i.iD)("a",{key:0,title:"Enable Range",onClick:(0,i.iM)((function(e){return t.range=!0}),["prevent"])},[(0,i._)("img",{src:e.root+"/cl/img/range.png",alt:"Enable Range",width:"26",height:"10"},null,8,pn)],8,hn)),t.range?((0,i.wg)(),(0,i.iD)("span",vn,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":function(e){return t.from=e}},null,8,gn),[[i.nr,t.from]]),(0,i.Uk)(" to "),(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":function(e){return t.to=e}},null,8,bn),[[i.nr,t.to]])])):(0,i.kq)("v-if",!0),t.range?((0,i.wg)(),(0,i.iD)("span",wn,[yn,(0,i.Uk)("Enter from/to range for user id.")])):(0,i.kq)("v-if",!0)])):(0,i.kq)("v-if",!0)],64)})),256))])}]]);const xn={extends:Site.ConsoleComponentBase,props:["assigntag"],data:function(){return{link:Site.root+"/cl/console/course/submissions/"+this.assigntag+"/",assignment:null}},components:{membersfetcher:Ut.Z,submissionsLinks:Un},mounted:function(){var e=this.$store.state.user.user.member;e.semester,e.section;this.section=this.$store.getters["course/section"](e.semester,e.section),this.assignment=this.section.getAssignment(this.assigntag),this.$root.setTitle(": "+this.assignment.shortname+" Submissions")}},$n=(0,le.Z)(xn,[["render",function(e,t,n,s,r,o){var a=(0,i.up)("submissions-links"),l=(0,i.up)("router-link"),u=(0,i.up)("membersfetcher");return(0,i.wg)(),(0,i.iD)("div",on,[(0,i._)("div",an,[(0,i.Wm)(u,null,{default:(0,i.w5)((function(t){return[ln,(0,i.Wm)(a,{assignment:e.assignment},null,8,["assignment"]),(0,i._)("table",un,[cn,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.users,(function(t){return(0,i.wg)(),(0,i.iD)("tr",null,[(0,i._)("td",null,[(0,i.Wm)(l,{to:e.link+t.member.id},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,i.zw)(t.userId),1)]})),_:2},1032,["to"])]),(0,i._)("td",null,[(0,i.Wm)(l,{to:e.link+t.member.id},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,i.zw)(t.name),1)]})),_:2},1032,["to"])]),(0,i._)("td",null,(0,i.zw)(t.roleName()),1)])})),256))])]})),_:1})])])}]]);var An={class:"content"},Rn={class:"full"},Tn={key:0};const Zn={props:["user","assigntag"],data:function(){return{assignment:null,submissions:[]}},watch:{user:function(){this.submissions=[],this.fetch(this.user)}},components:{submissionVue:n(87480).Z},mounted:function(){this.fetch(this.user)},methods:{fetch:function(e){var t=this;e.member.getSection(this.$store);this.assignment=e.member.getAssignment(this.$store,this.assigntag),void 0!==this.assignment.submissions?this.$site.api.get("/api/course/submission/submissions/"+this.assigntag+"/"+e.member.id,{}).then((function(n){if(n.hasError())t.$site.toast(t,n);else{var s=n.getDataAll("submissions");t.submissions=[];for(var i=0;i<s.length;i++)t.submissions.push(s[i].attributes),t.submissions[i].user=e}})).catch((function(e){t.$site.toast(t,e)})):this.submissions=[]}}},En=(0,le.Z)(Zn,[["render",function(e,t,n,s,r,o){var a=(0,i.up)("submission-vue");return(0,i.wg)(),(0,i.iD)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.submissions,(function(e){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("h2",null,(0,i.zw)(e.name),1),(0,i.Wm)(a,{submission:e},null,8,["submission"])])})),256))])}]]);var In=n(44932);const Mn={props:{id:{default:0},faillink:{default:null}},emits:["fetched"],data:function(){return{user:null}},watch:{id:function(e,t){this.fetch()}},mounted:function(){this.fetch()},components:{fetcher:Site.FetcherVue},methods:{fetch:function(){var e=this,t=this.$store.state.user.user.member,n={id:this.id,semester:t.semester,section:t.section};In.m.get()&&(n.role=s.N.STUDENT),this.$store.dispatch("members/get",n).then((function(t){e.user=t,e.userId=t.userId,e.$emit("fetched",e.user)})).catch((function(t){Site.toast(e,t),null!==e.faillink&&setTimeout((function(){e.$router.push({path:Site.root+e.faillink})}),3e3)}))}}},zn=(0,le.Z)(Mn,[["render",function(e,t,n,s,r,o){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.WI)(e.$slots,"default",{user:e.user})])}]]);const Vn={extends:Site.ConsoleComponentBase,props:["assigntag","memberid"],data:function(){return{submissionsLink:"/cl/console/course/submissions/"+this.assigntag}},components:{memberfetcher:zn,prevNext:Le,submissions:En},mounted:function(){this.$root.setTitle(": Submissions"),this.addNav2Link("Exit",4,"/cl/console/course/submissions/"+this.assigntag)},methods:{fetched:function(e){var t=e.member.getAssignment(this.$store,this.assigntag);this.$root.setTitle(": "+e.name+" "+t.shortname+" Submissions")}}},Nn=(0,le.Z)(Vn,[["render",function(e,t,n,s,r,o){var a=(0,i.up)("prev-next"),l=(0,i.up)("submissions"),u=(0,i.up)("memberfetcher");return(0,i.wg)(),(0,i.iD)("div",An,[(0,i._)("div",Rn,[(0,i.Wm)(u,{onFetched:o.fetched,id:n.memberid,faillink:e.submissionsLink},{default:(0,i.w5)((function(e){return[(0,i.Wm)(a,{user:e.user},null,8,["user"]),null!==e.user?((0,i.wg)(),(0,i.iD)("div",Tn,[(0,i.Wm)(l,{user:e.user,assigntag:n.assigntag},null,8,["user","assigntag"])])):(0,i.kq)("v-if",!0)]})),_:1},8,["onFetched","id","faillink"])])])}]]);var qn={class:"content"},On={class:"full"},Ln=["ensure"],jn={class:"center"},Wn=(0,i._)("th",null,"User",-1),Hn=(0,i._)("th",null,"Name",-1),Fn=(0,i._)("th",null,"Email",-1),Yn=(0,i._)("th",null,"Role",-1),Kn=["onUpdate:modelValue"],Bn=["href"];var Pn={class:"to"},Xn={key:0,class:"no-email"},Gn={key:1},Jn={key:0},Qn={class:"subject"},es={ref:"editor"},ts={class:"buttons"},ns=function(e){return(0,i.dD)("data-v-4948184f"),e=e(),(0,i.Cn)(),e}((function(){return(0,i._)("input",{type:"submit",value:"Send"},null,-1)}));function ss(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return is(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return is(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,i=function(){};return{s:i,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw r}}}}function is(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var rs=Site.Site.MaskVue;const os={props:["to"],emits:["cancel","done"],data:function(){return{displayTo:[],subject:"",mask:!1}},components:{maskVue:rs},mounted:function(){var e=this.$refs.editor;this.editor=new this.$site.Editor(e,{tab:!0,autoIndent:!0}),this.displayTo=[];for(var t=0;t<this.to.length&&t<10;t++)this.displayTo.push(this.to[t])},methods:{cancel:function(){this.$emit("cancel")},submit:function(){var e=this;if(!this.mask){var t=this.subject.trim();if(""!==t){var n=this.editor.textarea.value;if(""!==n){var s,i=[],r=ss(this.to);try{for(r.s();!(s=r.n()).done;){var o=s.value;null!==o.email&&i.push({name:o.name,email:o.email})}}catch(e){r.e(e)}finally{r.f()}if(0!==i.length){var a={to:i,subject:t,message:n};this.mask=!0,this.$site.api.post("/api/course/email",a).then((function(t){e.mask=!1,t.hasError()?e.$site.toast(e,t):e.$emit("done")})).catch((function(t){e.mask=!1,e.$site.toast(e,t)}))}else this.$emit("done")}else this.$site.toast(this,"Must provide a message")}else this.$site.toast(this,"Must provide a subject")}}}};var as=n(52251),ls={};ls.styleTagTransform=re(),ls.setAttributes=te(),ls.insert=Q().bind(null,"head"),ls.domAPI=G(),ls.insertStyleElement=se();P()(as.Z,ls);as.Z&&as.Z.locals&&as.Z.locals;const us=(0,le.Z)(os,[["render",function(e,t,n,s,r,o){var a=(0,i.up)("mask-vue");return(0,i.wg)(),(0,i.iD)("form",{onSubmit:t[2]||(t[2]=(0,i.iM)((function(){return o.submit&&o.submit.apply(o,arguments)}),["prevent"]))},[(0,i.Wm)(a,{mask:e.mask},{default:(0,i.w5)((function(){return[(0,i.Uk)("Sending Email...")]})),_:1},8,["mask"]),(0,i._)("div",Pn,[(0,i.Uk)("To "),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.displayTo,(function(e){return(0,i.wg)(),(0,i.iD)("div",{key:e.id},[(0,i.Uk)((0,i.zw)(e.name)+" <",1),null===e.email?((0,i.wg)(),(0,i.iD)("span",Xn,"no email")):((0,i.wg)(),(0,i.iD)("span",Gn,(0,i.zw)(e.email),1)),(0,i.Uk)("> ")])})),128)),this.to.length>this.displayTo.length?((0,i.wg)(),(0,i.iD)("div",Jn,"...")):(0,i.kq)("v-if",!0)]),(0,i._)("div",Qn,[(0,i._)("label",null,[(0,i.Uk)("Subject "),(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.subject=t})},null,512),[[i.nr,e.subject]])])]),(0,i._)("div",es,null,512),(0,i._)("p",ts,[ns,(0,i._)("input",{type:"button",value:"Cancel",onClick:t[1]||(t[1]=(0,i.iM)((function(){return o.cancel&&o.cancel.apply(o,arguments)}),["prevent"]))})])],32)}],["__scopeId","data-v-4948184f"]]);function cs(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ms(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ms(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,i=function(){};return{s:i,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw r}}}}function ms(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}const ds={extends:Site.ConsoleComponentBase,data:function(){return{all:!1,flags:{},users:{},composing:!1,toUsers:[]}},components:{membersfetcher:Ut.Z,emailEditor:us},mounted:function(){this.$store.state.user.user.member;this.setTitle(": Course Email"),this.addSendEmail()},methods:{allChange:function(){for(var e in this.flags)this.flags[e]=this.all},ensure:function(e){var t,n=cs(e);try{for(n.s();!(t=n.n()).done;){var s=t.value;void 0===this.flags[s.id]&&(this.flags[s.id]=!1,this.users[s.id]=s)}}catch(e){n.e(e)}finally{n.f()}},addSendEmail:function(){var e=this;this.sendEmail=this.addNav2("Send Email",3,(function(){for(var t in e.toUsers=[],e.flags)e.flags[t]&&e.toUsers.push(e.users[t]);0!==e.toUsers.length?(e.removeNav2(e.sendEmail),e.composing=!0):new R.Z.MessageBox("No indicated members!","Must specify members to send email to.",R.Z.MessageBox.OK,(function(){}))}))},cancelEmail:function(){this.composing=!1,this.addSendEmail()},doneSending:function(){for(var e in this.composing=!1,this.all=!1,this.flags)this.flags[e]=!1;this.addSendEmail()}}};var fs=n(90787),hs={};hs.styleTagTransform=re(),hs.setAttributes=te(),hs.insert=Q().bind(null,"head"),hs.domAPI=G(),hs.insertStyleElement=se();P()(fs.Z,hs);fs.Z&&fs.Z.locals&&fs.Z.locals;const ps=(0,le.Z)(ds,[["render",function(e,t,n,s,r,o){var a=(0,i.up)("membersfetcher"),l=(0,i.up)("email-editor");return(0,i.wg)(),(0,i.iD)("div",qn,[(0,i._)("div",On,[e.composing?((0,i.wg)(),(0,i.j4)(l,{key:1,onCancel:o.cancelEmail,onDone:o.doneSending,to:e.toUsers},null,8,["onCancel","onDone","to"])):((0,i.wg)(),(0,i.j4)(a,{key:0},{default:(0,i.w5)((function(n){return[(0,i._)("table",{class:"small",ensure:o.ensure(n.users)},[(0,i._)("tr",null,[(0,i._)("th",jn,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.all=t}),type:"checkbox",onChange:t[1]||(t[1]=function(){return o.allChange&&o.allChange.apply(o,arguments)})},null,544),[[i.e8,e.all]])]),Wn,Hn,Fn,Yn]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.users,(function(t){return(0,i.wg)(),(0,i.iD)("tr",{key:t.id},[(0,i._)("td",null,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":function(n){return e.flags[t.id]=n}},null,8,Kn),[[i.e8,e.flags[t.id]]])]),(0,i._)("td",null,(0,i.zw)(t.userId),1),(0,i._)("td",null,(0,i.zw)(t.name),1),(0,i._)("td",null,[(0,i._)("a",{href:"mailto:"+t.email},(0,i.zw)(t.email),9,Bn)]),(0,i._)("td",null,(0,i.zw)(t.roleName()),1)])})),128))],8,Ln)]})),_:1}))])])}]]);var vs={class:"content"},gs={class:"full"},bs={class:"small"},ws=(0,i._)("tr",null,[(0,i._)("th",null,"User"),(0,i._)("th",null,"Name"),(0,i._)("th",null,"Role")],-1),ys=["onClick"],ks=["onClick"];const _s={extends:Site.ConsoleComponentBase,components:{membersfetcher:Ut.Z},mounted:function(){this.setTitle(": Member Spoofing")},computed:{availableUsers:function(e){var t=this;return console.log(e),(0,i.IU)(e).filter((function(e){return t.user.atLeast(e.role())}))}},methods:{select:function(e){var t=this,n={user:e.id,member:e.member.id};this.$site.api.post("/api/course/members/spoof",n).then((function(e){e.hasError()?t.$site.toast(t,e):window.location=t.root+"/"})).catch((function(e){t.$site.toast(t,e)}))}}},Ss=(0,le.Z)(_s,[["render",function(e,t,n,s,r,o){var a=(0,i.up)("membersfetcher");return(0,i.wg)(),(0,i.iD)("div",vs,[(0,i._)("div",gs,[(0,i.Wm)(a,null,{default:(0,i.w5)((function(e){return[(0,i._)("table",bs,[ws,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.users,(function(e){return(0,i.wg)(),(0,i.iD)("tr",null,[(0,i._)("td",null,[(0,i._)("a",{onClick:(0,i.iM)((function(t){return o.select(e)}),["prevent"])},(0,i.zw)(e.userId),9,ys)]),(0,i._)("td",null,[(0,i._)("a",{onClick:(0,i.iM)((function(t){return o.select(e)}),["prevent"])},(0,i.zw)(e.name),9,ks)]),(0,i._)("td",null,(0,i.zw)(e.roleName()),1)])})),256))])]})),_:1})])])}]]);Site.PrevNextMemberVue=Le,Site.MemberFetcherComponentVue=zn,Site.SubmissionsAssignmentMemberComponentVue=En,Site.MembersFetcherComponentVue=Ut.Z,Site.SubmissionsLinksVue=Un,Site.CourseConsole||(Site.CourseConsole=new function(e){var t=e.console;this.assignmentLinks=[],this.assignmentLink=function(e,t,n){this.assignmentLinks.push({property:e,name:t,route:n})},t.title="Course Console",t.tables.add({title:"Course",order:20,api:"/api/course/tables"});var n={title:"Main",route:"",order:1};t.components.addOption({atLeast:s.N.STAFF,page:n,section:{title:"Course",order:5},title:"Members",order:1,route:"/course/members",routes:[{route:"/course/members",component:ye,props:{management:!1}}]}),t.components.addOption({atLeast:s.N.INSTRUCTOR,page:n,section:{title:"Course",order:5},title:"Course Home",order:2,route:"/course/home",routes:[{route:"/course/home",component:tt}]}),t.components.addOption({atLeast:s.N.STAFF,page:n,section:{title:"Course",order:5},title:"Assignments",order:2,route:"/course/assignments",routes:[{route:"/course/assignments",component:bt}]}),t.components.addOption({atLeast:{tag:"course-spoofing",default:s.N.TA},page:n,section:{title:"Course",order:5},title:"Member Spoofing",order:3,route:"/course/spoofing",routes:[{route:"/course/spoofing",component:Ss}]}),t.components.addOption({atLeast:s.N.TA,page:n,section:{title:"Course",order:5},title:"Email Members",order:4,route:"/course/email",routes:[{route:"/course/email",component:ps}]}),t.components.addOption({atLeast:s.N.ADMIN,page:{title:"Management",route:"/management",order:10},section:{title:"Course Management",order:1},title:"Members",order:1,route:"/management/course/members",routes:[{route:"/management/course/members",name:"members",component:ye,props:{management:!0}},{route:"/management/course/member/:id",name:"member",component:He,props:!0}]}),t.components.addRoutes([{route:"/course/extensions/:assigntag",component:Tt,props:!0},{route:"/course/dates/:assigntag",component:rn,props:!0},{route:"/course/submissions/:assigntag",component:$n,props:!0},{route:"/course/submissions/:assigntag/:memberid",name:"submissions",component:Nn,props:!0}]),t.components.addNav2(dt,10),this.SubmissionsLinksVue=Un}(Site),Site.Console.CourseConsole=Site.CourseConsole,Site.Console.course=Site.CourseConsole)},27517:(e,t,n)=>{n(28878);var s=n(66759),i={class:"content"},r={class:"full cl-reviewing"},o={key:0},a={class:"center"},l=(0,s._)("button",{type:"submit"},"Assign Reviews",-1),u=["value"],c={class:"small"},m=(0,s._)("th",null,"Name",-1),d=(0,s._)("th",null,"User ID",-1),f={class:"small"};var h=n(26974),p=n(96131);const v={extends:h.X,props:["assigntag","statusUser","count"]};var g=n(87619);const b=(0,g.Z)(v,[["render",function(e,t,n,i,r,o){var a=(0,s.up)("router-link");return null!==n.statusUser?((0,s.wg)(),(0,s.j4)(a,{key:0,to:e.root+"/cl/console/grading/"+n.assigntag+"/"+n.statusUser.member.id,title:n.statusUser.name},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,s.zw)(n.statusUser.userId)+"/"+(0,s.zw)(n.count),1)]})),_:1},8,["to","title"])):(0,s.kq)("v-if",!0)}]]);function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,i=function(){};return{s:i,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw r}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}const k={extends:h.X,props:["assigntag"],data:function(){return{assignment:null,reviewerCnt:2,instructor:Site.Member.INSTRUCTOR,reviewers:null,reviewees:null,maxReviewees:0,maxReviewers:0}},components:{membersfetcher:p.R,"status-present":b},mounted:function(){var e=this,t=this.$store.state.user.user.member;this.section=this.$store.getters["course/section"](t.semester,t.section),this.assignment=this.section.getAssignment(this.assigntag),this.setTitle(": "+this.assignment.shortname+" Reviewing"),this.$site.api.get("/api/review/reviewers/"+this.assigntag,{}).then((function(t){t.hasError()?e.$site.toast(e,t):e.take(t)})).catch((function(t){e.$site.toast(e,t)}))},methods:{assignReviews:function(){var e=this;this.maxReviewees>0||this.maxReviewers>0?new this.$site.Dialog.MessageBox("Are you sure?","Are you sure you want to assign reviewers? This will replace the existing reviewing assignments.",this.$site.Dialog.MessageBox.OKCANCEL,(function(){e.assignReviewsActual()})):this.assignReviewsActual()},assignReviewsActual:function(){var e=this;this.reviewers=null,this.reviewees=null,this.maxReviewees=0,this.maxReviewers=0;var t={cnt:this.reviewerCnt};this.$site.api.post("/api/review/reviewers/"+this.assigntag,t).then((function(t){t.hasError()?e.$site.toast(e,t):e.take(t)})).catch((function(t){e.$site.toast(e,t)}))},take:function(e){var t=e.getData("reviewers").attributes;this.reviewers={},this.reviewees={},this.maxReviewees=0,this.maxReviewers=0;var n,s=w(t);try{for(s.s();!(n=s.n()).done;){var i=n.value,r=+i[0],o=+i[1],a=+i[2];void 0===this.reviewers[r]&&(this.reviewers[r]=[]),this.reviewers[r].push([o,a]),this.reviewers[r].length>this.maxReviewees&&(this.maxReviewees=this.reviewers[r].length),void 0===this.reviewees[o]&&(this.reviewees[o]=[]),this.reviewees[o].push([r,a]),this.reviewees[o].length>this.maxReviewers&&(this.maxReviewers=this.reviewers[r].length)}}catch(e){s.e(e)}finally{s.f()}},displayUser:function(e,t,n){if(void 0===t||n>=t.length)return null;var s,i=w(e);try{for(i.s();!(s=i.n()).done;){var r=s.value;if(r.member.id===t[n][0])return r}}catch(e){i.e(e)}finally{i.f()}return null},cls:function(e,t){return void 0===e||t>=e.length?"":e[t][1]<1?"cl-empty":""}}},_=(0,g.Z)(k,[["render",function(e,t,n,h,p,v){var g=(0,s.up)("router-link"),b=(0,s.up)("status-present"),w=(0,s.up)("membersfetcher");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",r,[(0,s.Wm)(w,{fetching:null===e.reviewers},{default:(0,s.w5)((function(i){return[e.user.atLeast(e.instructor)?((0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("form",{method:"post",onSubmit:t[1]||(t[1]=(0,s.iM)((function(){return v.assignReviews&&v.assignReviews.apply(v,arguments)}),["prevent"]))},[(0,s._)("p",a,[l,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.reviewerCnt=t})},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(6,(function(e){return(0,s._)("option",{value:e},(0,s.zw)(e),9,u)})),64))],512),[[s.bM,e.reviewerCnt]])])],32)])):(0,s.kq)("v-if",!0),(0,s._)("table",c,[(0,s._)("tr",null,[m,d,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.maxReviewees,(function(e){return(0,s.wg)(),(0,s.iD)("th",null,"reviewee")})),256)),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.maxReviewers,(function(e){return(0,s.wg)(),(0,s.iD)("th",null,"reviewer")})),256))]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.users,(function(t){return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",f,[(0,s.Wm)(g,{title:t.name,to:e.root+"/cl/console/grading/"+n.assigntag+"/"+t.member.id},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,s.zw)(t.name),1)]})),_:2},1032,["title","to"])]),(0,s._)("td",null,[(0,s.Wm)(g,{title:t.name,to:e.root+"/cl/console/grading/"+n.assigntag+"/"+t.member.id},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,s.zw)(t.userId),1)]})),_:2},1032,["title","to"])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.maxReviewees,(function(r){return(0,s.wg)(),(0,s.iD)("td",{class:(0,s.C_)(v.cls(e.reviewers[t.member.id],r-1))},[(0,s.Wm)(b,{assigntag:n.assigntag,"status-user":v.displayUser(i.users,e.reviewers[t.member.id],r-1),count:void 0!==e.reviewers[t.member.id]?e.reviewers[t.member.id][r-1][1]:0},null,8,["assigntag","status-user","count"])],2)})),256)),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.maxReviewers,(function(r){return(0,s.wg)(),(0,s.iD)("td",{class:(0,s.C_)(v.cls(e.reviewees[t.member.id],r-1))},[(0,s.Wm)(b,{assigntag:n.assigntag,"status-user":v.displayUser(i.users,e.reviewees[t.member.id],r-1),count:void 0!==e.reviewees[t.member.id]?e.reviewees[t.member.id][r-1][1]:0},null,8,["assigntag","status-user","count"])],2)})),256))])})),256))])]})),_:1},8,["fetching"])])])}]]);var S={class:"cl-reviews"},C=(0,s._)("h2",null,"Staff Review",-1),D={ref:"editor"},U=(0,s._)("p",null,[(0,s._)("input",{type:"submit",value:"Submit Review"})],-1),x=(0,s._)("h3",null,"Reviews by this user.",-1),$={key:0,class:"center"},A={class:"cl-review"},R={class:"cl-submitted"},T={class:"cl-review-present"},Z=(0,s._)("h3",null,"Reviews of this user's assignment.",-1),E={key:1,class:"center"},I={class:"cl-review"},M={key:0},z={key:1},V={class:"cl-submitted"},N={class:"cl-review-present"};function q(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,i=function(){};return{s:i,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw r}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}const L={props:["user","assigntag"],data:function(){return{forReviews:[],byReviews:[],staffRole:Site.Member.STAFF,submissions:[]}},watch:{user:function(){this.forReviews=[],this.byReviews=[],this.submissions=[],this.fetch()}},mounted:function(){var e=this.$refs.editor;this.editor=new this.$site.Editor(e,{height:"10em",classes:["yellow-pad"]}),this.fetch()},methods:{fetch:function(){var e=this;this.$site.api.get("/api/review/reviews/"+this.assigntag+"/"+this.user.member.id,{}).then((function(t){t.hasError()?e.$site.toast(e,t):e.take(t)})).catch((function(t){e.$site.toast(e,t)}))},take:function(e){var t=e.getData("reviews-by-for").attributes,n=e.getData("assignment-submissions");null!==n&&(this.submissions=n.attributes);var s,i=q(t.for);try{for(i.s();!(s=i.n()).done;){var r=s.value;r.reviewer=new Site.User(r.reviewer)}}catch(e){i.e(e)}finally{i.f()}var o,a=q(t.by);try{for(a.s();!(o=a.n()).done;){var l=o.value;l.reviewee=new Site.User(l.reviewee)}}catch(e){a.e(e)}finally{a.f()}this.forReviews=t.for,this.byReviews=t.by},submit:function(){var e=this,t=this.editor.textarea.value.trim();if(""!==t){var n={};for(var s in this.submissions)n[s]={id:this.submissions[s][0].id,date:this.submissions[s][0].date};var i={type:"text/plain",text:t,submissions:n};Site.api.post("/api/review/staffreview/".concat(this.assigntag,"/").concat(this.user.member.id),i).then((function(t){t.hasError()?Site.toast(e,t):(e.editor.textarea.value="",e.take(t),Site.toast(e,"Review successfully saved to the server"))})).catch((function(t){Site.toast(e,t)}))}else Site.toast(this,"You must enter some text to submit")},formatTime:function(e){return this.$site.TimeFormatter.relativeUNIX(e,null)},showSubmissions:function(e){var t=e.meta.review.submissions,n="";for(var s in t)n+=this.$site.TimeFormatter.absoluteUNIX(t[s].date);return""===n?"":"Submission: "+n}}},j=(0,g.Z)(L,[["render",function(e,t,n,i,r,o){return(0,s.wg)(),(0,s.iD)("div",S,[C,(0,s._)("form",{method:"post",onSubmit:t[0]||(t[0]=(0,s.iM)((function(){return o.submit&&o.submit.apply(o,arguments)}),["prevent"]))},[(0,s._)("div",D,null,512),U],32),x,0===e.byReviews.length?((0,s.wg)(),(0,s.iD)("p",$,"None")):(0,s.kq)("v-if",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.byReviews,(function(t){return(0,s.wg)(),(0,s.iD)("div",A,[(0,s._)("h3",{class:(0,s.C_)(t.reviewee.atLeast(e.staffRole)?"staff":"")},[(0,s.Uk)((0,s.zw)(o.formatTime(t.time))+" Review by "+(0,s.zw)(t.reviewee.name)+" ",1),(0,s._)("span",R,(0,s.zw)(o.showSubmissions(t)),1)],2),(0,s._)("div",T,(0,s.zw)(t.meta.review.review),1)])})),256)),Z,0===e.forReviews.length?((0,s.wg)(),(0,s.iD)("p",E,"None")):(0,s.kq)("v-if",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.forReviews,(function(t){return(0,s.wg)(),(0,s.iD)("div",I,[(0,s._)("h3",{class:(0,s.C_)(t.reviewer.atLeast(e.staffRole)?"staff":"")},[(0,s.Uk)((0,s.zw)(o.formatTime(t.time))+" ",1),t.reviewer.atLeast(e.staffRole)?((0,s.wg)(),(0,s.iD)("span",M,"Staff Review")):((0,s.wg)(),(0,s.iD)("span",z,"Review")),(0,s.Uk)(" by "+(0,s.zw)(t.reviewer.name)+" ",1),(0,s._)("span",V,(0,s.zw)(o.showSubmissions(t)),1)],2),(0,s._)("div",N,(0,s.zw)(t.meta.review.review),1)])})),256))])}]]);var W=function(){};W.setup=function(e){e.Review={reviewsbyfor:j},e.tables.add({title:"Review",order:70,api:"/api/review/tables"}),e.components.addRoute({route:"/review/reviewers/:assigntag",component:_,props:!0}),e.course.assignmentLink("review","reviewers","/review/reviewers/:assigntag")},Site.Console&&!Site.Console.Review&&W.setup(Site.Console)},80874:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(47289),i=n.n(s),r=n(38306),o=n.n(r)()(i());o.push([e.id,"\ndiv.cl-submissions-bulk p {\n    font-size: 0.9em;\n}\ndiv.cl-submissions-bulk input {\n    width: 5em;\n}\n\n",""]);const a=o},90787:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(47289),i=n.n(s),r=n(38306),o=n.n(r)()(i());o.push([e.id,"",""]);const a=o},52251:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(47289),i=n.n(s),r=n(38306),o=n.n(r)()(i());o.push([e.id,"form[data-v-4948184f]{position:relative}div.to[data-v-4948184f]{margin:1em 0;font-style:italic}div.to>div[data-v-4948184f]{font-style:normal;font-size:.85em}div.to>div span.no-email[data-v-4948184f]{color:red;font-style:italic}div.subject[data-v-4948184f]{margin:1em 0}div.subject label[data-v-4948184f]{font-style:italic}div.subject input[type=text][data-v-4948184f]{display:block;margin:.2em 0 0 0;font-style:normal;width:25em}div.buttons input[data-v-4948184f]{width:6em}",""]);const a=o},51819:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(47289),i=n.n(s),r=n(38306),o=n.n(r)()(i());o.push([e.id,"div.cl-extensions table td{text-align:left}div.cl-extensions table td>div>input{text-align:center}div.cl-extensions table td:nth-child(4)>div{white-space:nowrap}",""]);const a=o},58510:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(47289),i=n.n(s),r=n(38306),o=n.n(r)()(i());o.push([e.id,"div.cl-bulk-upload form{margin-bottom:1em}div.cl-bulk-upload fieldset>div{display:flex;flex-direction:row;flex-wrap:nowrap}div.cl-bulk-upload fieldset>div>div{padding-right:1em}div.cl-bulk-upload fieldset>div>div p{margin:0 0 .5em 0}div.cl-bulk-upload fieldset>div>div p:last-child{margin:0}div.cl-bulk-upload fieldset>div>div p:last-child input{width:6.5em}div.cl-bulk-upload-dlg{width:400px}",""]);const a=o},40627:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(47289),i=n.n(s),r=n(38306),o=n.n(r)()(i());o.push([e.id,"div#drops-component[data-v-23f2b753]{padding:1em}div#drops-component th[data-v-23f2b753]:first-child{text-align:center;vertical-align:bottom}",""]);const a=o},53090:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(47289),i=n.n(s),r=n(38306),o=n.n(r)()(i());o.push([e.id,"div.cl-section-component[data-v-58756191]{white-space:nowrap;vertical-align:top;font-size:.95em;color:#fff;margin:0;padding:1px 0 0 0}div.cl-section-component>span[data-v-58756191]{padding:0 .4em 0 0}div.cl-section-component>span[data-v-58756191]:last-child{padding:0}",""]);const a=o},70453:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(47289),i=n.n(s),r=n(38306),o=n.n(r)()(i());o.push([e.id,"select[data-v-2e27ec9c]{font-size:.95em;background:#fff;color:#000}",""]);const a=o},69528:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(47289),i=n.n(s),r=n(38306),o=n.n(r)()(i());o.push([e.id,"div.cl-reviewing td.cl-empty{background-color:#e8f7f3}p.cl-reviews-none{text-align:center;color:#00723f;font-style:italic}div.cl-reviews h3{text-align:center;background:#00723f;color:#fff}div.cl-review{margin:1em 0}div.cl-review h3{font-size:.85em;font-style:italic;font-weight:normal;background:rgba(0,0,0,0);color:#00723f;border-bottom:1px solid #00723f;text-align:left}div.cl-review h3 span.cl-submitted{float:right;color:#00909e;font-size:.9em}div.cl-review h3.staff{color:red}div.cl-review pre{margin:0;white-space:pre-wrap}div.cl-review div.cl-review-present{margin:0;white-space:pre-wrap}",""]);const a=o},28878:(e,t,n)=>{var s=n(54571),i=n.n(s),r=n(50063),o=n.n(r),a=n(14971),l=n.n(a),u=n(78446),c=n.n(u),m=n(71984),d=n.n(m),f=n(63641),h=n.n(f),p=n(69528),v={};v.styleTagTransform=h(),v.setAttributes=c(),v.insert=l().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=d();i()(p.Z,v),p.Z&&p.Z.locals&&p.Z.locals},3326:(e,t,n)=>{n.d(t,{Z:()=>m});var s=n(66759),i={style:{display:"none"},ref:"students-only"},r={key:0,class:"centerbox comp center"};var o=n(97818),a=n(63255),l=n(44932),u=Site.FetcherVue;const c={props:{fetching:{type:Boolean,default:!1}},data:function(){return{students:!1,studentsElement:null}},methods:{fetchMore:function(){this.$store.dispatch("members/more")},addStudentsOnly:function(){this.students=l.m.get();var e=this.$refs["students-only"];e.parentNode.removeChild(e),document.querySelector("div.cl-section-component span.extra").appendChild(e),e.style.display="inline-block",this.studentsElement=e},studentsOnlyChanged:function(){l.m.set(this.students)}},computed:(0,o.rn)({users:function(e){return this.students?e.members.users.filter((function(e){return e.role()===a.N.STUDENT})):e.members.users},fetcher:function(e){return e.members.fetcher}}),components:{fetcher:u},mounted:function(){var e=this;this.students=l.m.get();var t=this.$store.state.user.user.member,n={semester:t.semester,section:t.section};this.$store.commit("members/query",n),this.$store.dispatch("members/fetch"),setTimeout((function(){e.addStudentsOnly()}),100)},beforeUnmount:function(){this.studentsElement.parentNode.removeChild(this.studentsElement);document.querySelectorAll("div.cl-section-component span.extra")}};const m=(0,n(87619).Z)(c,[["render",function(e,t,n,o,a,l){var u=(0,s.up)("fetcher");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("label",i,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.students=t}),onChange:t[1]||(t[1]=function(){return l.studentsOnlyChanged&&l.studentsOnlyChanged.apply(l,arguments)})},null,544),[[s.e8,e.students]]),(0,s.Uk)(" Students Only")],512),(0,s.Wm)(u,{fetcher:e.fetcher,fetching:n.fetching},{default:(0,s.w5)((function(){return[(0,s.WI)(e.$slots,"default",{users:e.users,students:e.students}),0==e.users.length?((0,s.wg)(),(0,s.iD)("p",r," There are currently no members enrolled in this section.")):(0,s.kq)("v-if",!0)]})),_:3},8,["fetcher","fetching"])])}]])}},e=>{e.O(0,[736,828,77,530,592],(()=>{return t=27517,e(e.s=t);var t}));e.O()}]);